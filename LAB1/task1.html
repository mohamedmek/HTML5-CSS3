<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML5 Video</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    />
</head>
<body>
    <video src="./video/frozen.mp4" width="600" id="vid1" poster="./image/frozen.jpg"></video>
    <div>
        
        <button id="startTime">&lt;&lt;</button>
        <button id="back5sec">&lt;</button>
        <button onclick="vid.play()">Play</button>
        <button onclick="vid.pause()">Pause</button>
        <button id="forward5sec"> &gt;</button>
        <button id="endTime"> &gt;&gt;</button>
        <input type="range" id="volRange" value="10" onclick="setVol()">
        <button onclick="vid.volume = 0;">Mute</button>
        <button id="fullscreen"><i class="bi bi-arrows-fullscreen"></i>
        </button>

    </div>
    <br>
    <div>
        speed
        <input type="range" id="pbsRange" value="100" onclick="setSpeed()">
        

    </div><br>

    <input
    style="width: 600px"
    type="range"
    id="playback"
    min="0"
    max="100"
    value="0" />
    <script>
        var vid = document.getElementById("vid1");
        const back5sec = document.querySelector("#back5sec");
        const forward5sec = document.querySelector("#forward5sec");
        const startTime = document.querySelector("#startTime");
        const endTime = document.querySelector("#endTime");
        const fullscreen = document.querySelector("#fullscreen");
        
        vid.addEventListener("timeupdate",function(){
           let nowTime = parseInt(vid.currentTime) ;
            // document.getElementById("playback").value;
            document.getElementById("playback").value = nowTime;
        })
        console.log(vid.currentTime);
        
        function setVol(){
            var v = parseInt(document.getElementById("volRange").value);
            vid.volume = v/100;
        }
        function setSpeed(){
            var v = parseInt(document.getElementById("pbsRange").value);
            vid.playbackRate = v/100;
            console.log(vid.playbackRate);
        }
        back5sec.addEventListener("click", () => {
        vid.currentTime = vid.currentTime - 5;
      });
      forward5sec.addEventListener("click", () => {
        vid.currentTime = vid.currentTime + 5;
      });
      startTime.addEventListener("click", () => {
        vid.currentTime = 0;
      });
      endTime.addEventListener("click", () => {
        vid.currentTime = 10000000;
      });


      addEventListener("click", event => {
            const btn = event.target;

            // const fbtn = document.getElementById('fullscreen')
             if (btn.tagName.toLowerCase() !== "button") return;
            // if (btn.tagName.toLowerCase() !== "button") return;

            const id = btn.textContent;

            const div = document.getElementById('fullscreen');
            
            if (div.requestFullscreen) 
            vid.requestFullscreen();
            else if (div.webkitRequestFullscreen) 
            vid.webkitRequestFullscreen();
            else if (div.msRequestFullScreen) 
            vid.msRequestFullScreen();
        });
    </script>
</body>
</html>